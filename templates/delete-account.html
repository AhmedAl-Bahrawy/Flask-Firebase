{% extends "base.html" %} {% block title %}Delete Account{% endblock %} {% block
content %}
<div class="container">
  <svg
    class="warning-icon"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
      fill="currentColor"
    />
  </svg>

  <h2>Delete Account</h2>
  <p class="warning-text">
    This action cannot be undone. Once you delete your account, all your data
    will be permanently removed.
  </p>

  <form action="{{ url_for('delete_account') }}" method="POST">
    <div class="form-group">
      <label for="password">Confirm your password</label>
      <input
        type="password"
        id="password"
        name="password"
        class="form-control"
        required
        placeholder="Enter your password"
      />
    </div>

    <div class="checkbox-group">
      <label>
        <input type="checkbox" id="confirm" required />
        I understand that this action cannot be undone
      </label>
    </div>

    <div class="btn-group">
      <a href="/" class="btn btn-cancel">Cancel</a>
      <button type="submit" class="btn btn-delete" id="deleteBtn" disabled>
        Delete Account
      </button>
    </div>
  </form>
</div>
{% endblock %} {% block extra_scripts %}
<script>
  const confirmCheckbox = document.getElementById("confirm");
  const deleteBtn = document.getElementById("deleteBtn");
  const passwordInput = document.getElementById("password");

  function updateDeleteButton() {
    deleteBtn.disabled = !confirmCheckbox.checked || !passwordInput.value;
  }

  confirmCheckbox.addEventListener("change", updateDeleteButton);
  passwordInput.addEventListener("input", updateDeleteButton);
</script>
{% endblock %}
